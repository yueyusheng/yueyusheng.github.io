<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Mysql learning record | yueyusheng's blog</title><meta name="author" content="yueyusheng"><meta name="copyright" content="yueyusheng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Mysql learning recordSQL基础知识SQL程序语言有四种类型，对数据库的基本操作都属于这四类，它们分别为： 1234数据定义语言(DDL)数据操纵语言(DML)数据查询语言(DQL)数据控制语言(DCL)  数据定义语言(DDL)数据定义语言是由SQL语言集中负责数据结构定义与数据库对象定义的语言，并且由create（新建，增）、alter（修改）、drop（删除）和trunc">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql learning record">
<meta property="og:url" content="http://example.com/2023/07/15/record-md/index.html">
<meta property="og:site_name" content="yueyusheng&#39;s blog">
<meta property="og:description" content="Mysql learning recordSQL基础知识SQL程序语言有四种类型，对数据库的基本操作都属于这四类，它们分别为： 1234数据定义语言(DDL)数据操纵语言(DML)数据查询语言(DQL)数据控制语言(DCL)  数据定义语言(DDL)数据定义语言是由SQL语言集中负责数据结构定义与数据库对象定义的语言，并且由create（新建，增）、alter（修改）、drop（删除）和trunc">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2023-07-15T10:19:38.000Z">
<meta property="article:modified_time" content="2023-07-15T10:28:43.150Z">
<meta property="article:author" content="yueyusheng">
<meta property="article:tag" content="ipaofu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/07/15/record-md/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Mysql learning record',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-15 18:28:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2023/04/16/qsStpudZ61XJR2e.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="yueyusheng's blog"><span class="site-name">yueyusheng's blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Mysql learning record</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-15T10:19:38.000Z" title="发表于 2023-07-15 18:19:38">2023-07-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-15T10:28:43.150Z" title="更新于 2023-07-15 18:28:43">2023-07-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Mysql learning record"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Mysql-learning-record"><a href="#Mysql-learning-record" class="headerlink" title="Mysql learning record"></a>Mysql learning record</h1><h1 id="SQL基础知识"><a href="#SQL基础知识" class="headerlink" title="SQL基础知识"></a>SQL基础知识</h1><p>SQL程序语言有四种类型，对数据库的基本操作都属于这四类，它们分别为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">数据定义语言(DDL)</span><br><span class="line">数据操纵语言(DML)</span><br><span class="line">数据查询语言(DQL)</span><br><span class="line">数据控制语言(DCL)</span><br></pre></td></tr></table></figure>

<h2 id="数据定义语言-DDL"><a href="#数据定义语言-DDL" class="headerlink" title="数据定义语言(DDL)"></a>数据定义语言(DDL)</h2><p>数据定义语言是由SQL语言集中负责数据结构定义与数据库对象定义的语言，并且由create（新建，增）、alter（修改）、drop（删除）和truncate（清空）四个语法组成（主要是对表的结构）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">  字段名1 数据类型, </span><br><span class="line">  字段名2 数据类型, </span><br><span class="line">  字段名3 数据类型</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#创建一个student表</span><br><span class="line">create table student(</span><br><span class="line">id int identity(1,1) not null</span><br><span class="line">name varchar(20) null,</span><br><span class="line">course varchar(20) null,</span><br><span class="line">grade numeric null</span><br><span class="line">); </span><br><span class="line">复制表：creat table 表名 as select # from 需要复制的表;</span><br><span class="line"></span><br><span class="line">#给student表添加一个年龄字段</span><br><span class="line">alter table student add age int NULL</span><br><span class="line"></span><br><span class="line">#student表删除年龄字段，删除的字段前面需要加column，不然会报错，而添加字段不需要加column</span><br><span class="line">alter table student drop Column age</span><br><span class="line"></span><br><span class="line">#删除student表</span><br><span class="line">drop table student #删除表的数据和结构</span><br><span class="line">truncate table student #只是清空表的数据，但不删除表的结构，student表数据为空</span><br></pre></td></tr></table></figure>

<p>常见数据类型：</p>
<p>  varchar(最长255)<br>    <strong>可变</strong>长度的字符串<br>    比较智能，节省空间。<br>    会根据实际的数据长度动态分配空间。<br>    优点：节省空间<br>    缺点：需要动态分配空间，速度慢。</p>
<p>  char(最长255)<br>    <strong>定长</strong>字符串<br>    不管实际的数据长度是多少。<br>    分配固定长度的空间去存储数据。<br>    使用不恰当的时候，可能会导致空间的浪费。<br>​	优点：不需要动态分配空间，速度快。<br>​	缺点：使用不当可能会导致空间的浪费。</p>
<p>   varchar 和 char 我们应该怎么选择？<br>      性别字段你选什么？因为性别是固定长度的字符串，所以选择char。<br>      姓名字段你选什么？每一个人的名字长度不同，所以选择varchar。</p>
<p>  int(最长11)<br>    数字中的整数型。等同于c的int。</p>
<p>  bigint<br>    数字中的长整型。等同于c中的long。</p>
<p>  float	<br>    单精度浮点型数据</p>
<p>  double<br>    双精度浮点型数据</p>
<p>  date<br>    短日期类型</p>
<p>  datetime<br>    长日期类型</p>
<p>  clob<br>    字符大对象<br>    最多可以存储4G的字符串。<br>    比如：存储一篇文章，存储一个说明。<br>    超过255个字符的都要采用CLOB字符大对象来存储。<br>    Character Large OBject:CLOB</p>
<p>  blob<br>    二进制大对象<br>    Binary Large OBject<br>    专门用来存储图片、声音、视频等流媒体数据。<br>    往BLOB类型的字段上插入数据的时候，例如插入一个图片、视频等，你需要使用IO流才行。</p>
<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>（给表中的字段加上一些约束，来保证这个表中数据的完整性、有效性）</p>
<p>约束包括哪些？</p>
<ul>
<li>非空约束：not null</li>
<li>唯一性约束: unique</li>
<li>主键约束: primary key （简称PK）</li>
<li>外键约束：foreign key（简称FK）</li>
<li>检查约束：check（mysql不支持，oracle支持）</li>
</ul>
<h3 id="非空约束：not-null"><a href="#非空约束：not-null" class="headerlink" title="非空约束：not null"></a>非空约束：not null</h3><p>被约束的字段不能为null，必须赋值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">drop table if exists t_vip;</span><br><span class="line">create table t_vip(</span><br><span class="line">  id int,</span><br><span class="line">  name varchar(255) not null  //插入时必须赋值name</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="唯一性约束-unique"><a href="#唯一性约束-unique" class="headerlink" title="唯一性约束: unique"></a>唯一性约束: unique</h3><p>唯一性约束unique约束的字段不能重复，但是可以为NULL</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">如何做到联合唯一约束</span><br><span class="line">drop table if exists t_vip;</span><br><span class="line">create table t_vip(</span><br><span class="line">  id int,</span><br><span class="line">  name varchar(255),</span><br><span class="line">  email varchar(255),</span><br><span class="line">  unique(name,email) // 约束没有添加在列的后面，这种约束被称为表级约束。</span><br><span class="line">);</span><br><span class="line">name和email两个字段联合起来唯一</span><br></pre></td></tr></table></figure>

<p>！！！给多个字段联合起来添加某一约束时，使用表级约束。（not null无表级约束。）</p>
<h3 id="主键约束-primary-key"><a href="#主键约束-primary-key" class="headerlink" title="主键约束: primary key"></a>主键约束: primary key</h3><ul>
<li>主键字段：该字段上添加了主键约束，这样的字段叫做：主键字段</li>
<li>主键值：主键字段中的每一个值都叫做：主键值。</li>
<li>主键值是每一行记录的唯一标识。 主键值是每一行记录的身份证号！！！</li>
<li>主键的特征：not null + unique（主键值不能是NULL，同时也不能重复！）</li>
<li>任何一张表都应该有主键，没有主键，表无效</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  drop table if exists t_vip;</span><br><span class="line">  // 1个字段做主键，叫做：单一主键</span><br><span class="line">  create table t_vip(</span><br><span class="line">    id int primary key,  //列级约束</span><br><span class="line">    name varchar(255)</span><br><span class="line">  );</span><br><span class="line">在mysql当中，有一种机制，可以帮助我们自动维护一个主键值？</span><br><span class="line">		drop table if exists t_vip;</span><br><span class="line">		create table t_vip(</span><br><span class="line">			id int primary key auto_increment, //auto_increment表示自增，从1开始，以1递增！</span><br><span class="line">			name varchar(255)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<h3 id="外键约束：foreign-key"><a href="#外键约束：foreign-key" class="headerlink" title="外键约束：foreign key"></a>外键约束：foreign key</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foreign key（字段名） references &lt;主表名&gt; （主键列的字段名）。</span><br></pre></td></tr></table></figure>

<ul>
<li><p>子表中的外键引用的父表中的某个字段不一定是主键，但至少具有unique约束。</p>
</li>
<li><p>外键值可以为NULL。</p>
</li>
</ul>
<h2 id="数据操纵语言-DML"><a href="#数据操纵语言-DML" class="headerlink" title="数据操纵语言(DML)"></a><strong><u>数据操纵语言(DML)</u></strong></h2><p>数据操纵语言全程是Data Manipulation Language，主要是进行插入元组、删除元组、修改元组的操作。主要有insert、update、delete语法组成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名(字段名1,字段名2,字段名3...) values(值1,值2,值3);</span><br><span class="line">前面的字段名省略的话，等于都写上了！所以值也要都写上！</span><br><span class="line">insert插入日期</span><br><span class="line">数字格式化：format</span><br><span class="line">格式化数字：format(数字, &#x27;格式&#x27;)</span><br><span class="line">select ename,format(sal, &#x27;$999,999&#x27;) as sal from emp;</span><br><span class="line"></span><br><span class="line">str_to_date：将字符串varchar类型转换成date类型</span><br><span class="line">str_to_date(&#x27;字符串日期&#x27;, &#x27;日期格式&#x27;)</span><br><span class="line">insert into t_user(id,name,birth) values(1, &#x27;zhangsan&#x27;, str_to_date(&#x27;01-10-1990&#x27;,&#x27;%d-%m-%Y&#x27;));</span><br><span class="line">date_format：将date类型转换成具有一定格式的varchar字符串类型。</span><br><span class="line">date_format(日期类型数据, &#x27;日期格式&#x27;)</span><br><span class="line">select id,name,date_format(birth, &#x27;%m/%d/%Y&#x27;) as birth from t_user;</span><br><span class="line"></span><br><span class="line">mysql的日期格式：</span><br><span class="line">  %Y	年</span><br><span class="line">  %m    月</span><br><span class="line">  %d    日</span><br><span class="line">  %h	时</span><br><span class="line">  %i	分</span><br><span class="line">  %s	秒</span><br><span class="line">mysql短日期默认格式：%Y-%m-%d</span><br><span class="line">mysql长日期默认格式：%Y-%m-%d %h:%i:%s</span><br><span class="line">#向student表中插入数据</span><br><span class="line">insert into student(name,course,grade) values(&#x27;张飞&#x27;,&#x27;语文&#x27;,90),(&#x27;刘备&#x27;,&#x27;数学&#x27;,70);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">update 表名 set 字段名1=值1,字段名2=值2,字段名3=值3... where 条件;</span><br><span class="line">注意：没有条件限制会导致所有数据全部更新。</span><br><span class="line">#更新某人的成绩</span><br><span class="line">update student set grade=&#x27;18&#x27; where name=&#x27;张飞&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">delete from 表名 where 条件;（较慢删除全表）对比truncate（DDL操作）		</span><br><span class="line">没有条件，整张表的数据会全部删除！</span><br><span class="line">#删除某人</span><br><span class="line">delete from student where name=&#x27;张飞&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="数据查询语言-DQL"><a href="#数据查询语言-DQL" class="headerlink" title="数据查询语言(DQL)"></a><u><strong>数据查询语言(DQL)</strong></u></h2><p>数据查询语言全称是Data Query Language，所以是用来进行数据库中数据的查询的，即最常用的select语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">select 字段名 from 表名; </span><br><span class="line">#查询student表中的所有数据</span><br><span class="line">select * from student;</span><br><span class="line"></span><br><span class="line">查询两个字段，或者多个字段使用逗号隔开“,”</span><br><span class="line">给查询的列起别名：使用as关键字起别名。</span><br><span class="line">select 字段原名 as 别名 from 表名</span><br><span class="line">排序：select 字段名 from 表名 order by 字段名（默认升序）</span><br><span class="line">										+desc(指定降序)</span><br><span class="line">										+asc(指定升序)</span><br><span class="line">多字段排序：order by 1字段 (升)，2字段 (升)</span><br><span class="line">1字段在前，起主导，只有1字段相等的时候，才会考虑启用2字段排序。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">条件查询：（from--where--select--order by）</span><br><span class="line">查询语法格式：</span><br><span class="line">    select 字段1,字段2,字段3.... from 表名 where 条件;</span><br><span class="line">条件：</span><br><span class="line">= 等于；&lt;&gt; 或!= 不等于；&lt; 小于；&lt;= 小于等于；&gt; 大于；&gt;= 大于等于；</span><br><span class="line">between … and …. 两个值之间, 等同于 &gt;= and &lt;=；</span><br><span class="line">（使用between and的时候，必须遵循左小右大。between and是闭区间，包括两端的值。)</span><br><span class="line">is null 为 null（is not null 不为空）；</span><br><span class="line">and 并且 ；</span><br><span class="line">or 或者；</span><br><span class="line">in 包含，相当于多个 or （not in 不在这个范围中）；</span><br><span class="line">not 可以取非，主要用在 is 或 in 中；</span><br><span class="line">like 称为模糊查询，支持%或下划线匹配</span><br><span class="line"># %匹配任意多个字符</span><br><span class="line"># 下划线：表示任意一个字符。</span><br><span class="line">#（%是一个特殊的符号，_ 也是一个特殊符号）；</span><br><span class="line">找出名字以T结尾的？</span><br><span class="line">  select ename from emp where ename like &#x27;%T&#x27;;</span><br><span class="line">找出名字以K开始的？</span><br><span class="line">  select ename from emp where ename like &#x27;K%&#x27;;</span><br><span class="line">找出第二个字每是A的？</span><br><span class="line">  select ename from emp where ename like &#x27;_A%&#x27;;</span><br><span class="line">找出第三个字母是R的？</span><br><span class="line">  select ename from emp where ename like &#x27;__R%&#x27;;</span><br></pre></td></tr></table></figure>

<h2 id="分组查询："><a href="#分组查询：" class="headerlink" title="分组查询："></a><strong><u>分组查询：</u></strong></h2><p><strong>(先分组，然后对每组进行查询)</strong></p>
<p>语法格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select ... from ... where ... group by ... having ... order by</span><br><span class="line">(from--where--group by--having--select--order by)</span><br><span class="line"></span><br><span class="line">select + 对应分组的字段，和分组函数 from 表 group by 要分组的字段</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用having可以对分完组之后的数据进一步过滤。</span><br><span class="line">having不能单独使用，having不能代替where，having必须和group by联合使用。</span><br><span class="line">where和having，优先选择where</span><br></pre></td></tr></table></figure>

<p><img src="/2023/07/15/record-md/image-20230712150643020.png" alt="image-20230712150643020"></p>
<p><img src="/2023/07/15/record-md/image-20230712150409448.png" alt="image-20230712150409448"></p>
<h1 id="数据处理函数"><a href="#数据处理函数" class="headerlink" title="数据处理函数"></a>数据处理函数</h1><h3 id="单行处理函数"><a href="#单行处理函数" class="headerlink" title="单行处理函数"></a>单行处理函数</h3><p>单行处理函数的特点：一个输入对应一个输出。<br>单行处理函数常见:<br>lower 转换小写<br>    select lower(ename) as ename from emp;</p>
<p>upper 转换大写<br>    select upper(name) as name from t_student;</p>
<p>substr 取子串（substr(被截取的字符串, 起始下标,截取的长度)）<br>    select substr(ename, 1, 1) as ename from emp;</p>
<p>concat函数进行字符串的拼接<br>    select concat(empno,ename) from emp;</p>
<p>length 取长度<br>    select length(ename) enamelength from emp;</p>
<p>trim 去空格<br>    select * from emp where ename &#x3D; trim(‘   KING’);</p>
<p>str_to_date 将字符串转换成日期</p>
<p>date_format 格式化日期</p>
<p>format 设置千分位</p>
<p>case..when..then..when..then..else..end<br>当员工的工作岗位是MANAGER的时候，工资上调10%，当工作岗位是SALESMAN的时候，工资上调50%,其它正常。	（注意：不修改数据库，只是将查询结果显示为工资上调）<br>select<br>  ename,job, sal as oldsal,<br>  (case job when ‘MANAGER’ then sal<em>1.1 when ‘SALESMAN’ then sal</em>1.5 else sal end) as newsal<br>from<br>  emp;</p>
<p><img src="/2023/07/15/record-md/image-20230711224211565.png" alt="image-20230715182635616"></p>
<p>round 四舍五入<br>    select round(1236.567, 0) as result from emp; &#x2F;&#x2F;保留整数位。<br>    select round(1236.567, 1) as result from emp; &#x2F;&#x2F;保留1个小数<br>    select round(1236.567, 2) as result from emp; &#x2F;&#x2F;保留2个小数<br>    select round(1236.567, -1) as result from emp; &#x2F;&#x2F; 保留到十位。</p>
<p>rand() 生成随机数<br>    select round(rand()*100,0) from emp; &#x2F;&#x2F; 100以内的随机数</p>
<p><img src="/2023/07/15/record-md/image-20230711222951545.png" alt="image-20230715182718629"></p>
<p>ifnull 可以将 null 转换成一个具体值<br>ifnull是空处理函数。专门处理空的。在所有数据库当中，只要有NULL参与的数学运算，最终结果就是NULL。<br>注意：NULL只要参与运算，最终结果一定是NULL。为了避免这个现象，需要使用ifnull函数。ifnull函数用法：ifnull(数据, 被当做哪个值)。如果“数据”为NULL的时候，把这个数据结构当做哪个值。</p>
<p><img src="/2023/07/15/record-md/image-20230711223907140.png" alt="image-20230711223907140"></p>
<h3 id="分组函数（多行处理函数）"><a href="#分组函数（多行处理函数）" class="headerlink" title="分组函数（多行处理函数）"></a>分组函数（多行处理函数）</h3><p>多行处理函数特点：多个输入，对应1个输出。</p>
<p>count	# 计数<br>sum	  # 求和<br>avg	   # 平均值<br>max	  # 最大值<br>min	   # 最小值</p>
<p>注意：</p>
<ol>
<li>分组函数在使用的时候必须先进行分组，然后才能用。如果你没有对数据进行分组，整张表默认为一组。</li>
<li>分组函数<strong>自动忽略NULL</strong>，你不需要提前对NULL进行处理。</li>
<li>分组函数中count(<em>)和count(具体字段)有什么区别？<br>count(具体字段)：表示统计该字段下所有不为NULL的元素的总数。<br>count(</em>)：统计表当中的<strong>总行数</strong>。（只要有一行数据count则++）<br>因为每一行记录不可能都为NULL，一行数据中有一列不为NULL，则这行数据就是有效的。</li>
<li>**<u>分组函数不能够直接使用在where子句中</u>**。</li>
<li>所有的分组函数可以组合起来一起用。</li>
</ol>
<h3 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h3><ol>
<li>把查询结果去除重复记录 distinct。</li>
<li>distinct只能出现在所有字段的最前方。</li>
<li>distinct出现在两个字段之前，表示两个字段联合起来去重。</li>
</ol>
<h1 id="连接查询"><a href="#连接查询" class="headerlink" title="连接查询"></a><em><strong><u>连接查询</u></strong></em></h1><p>根据表连接的方式分类：<br>内连接： 等值连接 非等值连接 自连接<br>外连接： 左外连接（左连接）	右外连接（右连接）</p>
<p>内连接 ( 等值连接 非等值连接)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">SQL99语法：</span><br><span class="line">  select </span><br><span class="line">    ...</span><br><span class="line">  from</span><br><span class="line">    a 别名</span><br><span class="line">(inner) join</span><br><span class="line">    b 别名</span><br><span class="line">  on</span><br><span class="line">    a和b的连接条件</span><br><span class="line">  where</span><br><span class="line">    筛选条件</span><br><span class="line">    </span><br><span class="line">SQL92语法：</span><br><span class="line">   select</span><br><span class="line">   ...</span><br><span class="line">   from</span><br><span class="line">   a 别名,b 别名</span><br><span class="line">   where</span><br><span class="line">   	a和b的连接条件 and 筛选条件</span><br></pre></td></tr></table></figure>

<p>自连接，技巧：一张表看做两张表。</p>
<p>外连接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  select </span><br><span class="line">    ...</span><br><span class="line">  from</span><br><span class="line">    a 别名</span><br><span class="line">right/left （outer) join</span><br><span class="line">    b 别名</span><br><span class="line">  on</span><br><span class="line">    a和b的连接条件</span><br><span class="line">  where</span><br><span class="line">    筛选条件</span><br><span class="line"></span><br><span class="line">right代表什么：表示将join关键字右边的这张表看成主表，主要是为了将这张表的数据全部查询出来，捎带着关联查询左边的表。在外连接当中，两张表连接，产生了主次关系。</span><br></pre></td></tr></table></figure>

<p>外连接的查询结果条数一定是 &gt;&#x3D; 内连接的查询结果条数。</p>
<p>三张表，四张表连接<br>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">select </span><br><span class="line">  ...</span><br><span class="line">from</span><br><span class="line">  a</span><br><span class="line">join</span><br><span class="line">  b</span><br><span class="line">on</span><br><span class="line">  a和b的连接条件</span><br><span class="line">join</span><br><span class="line">  c</span><br><span class="line">on</span><br><span class="line">  a和c的连接条件</span><br><span class="line">right join</span><br><span class="line">  d</span><br><span class="line">on</span><br><span class="line">  a和d的连接条件</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>(select语句中嵌套select语句，被嵌套的select语句称为子查询。)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">select</span><br><span class="line">  ..(select)</span><br><span class="line">from</span><br><span class="line">  ..(select)</span><br><span class="line">where</span><br><span class="line">  ..(select)</span><br><span class="line">  </span><br><span class="line">通常出现与这些位置</span><br></pre></td></tr></table></figure>

<p>where子句中的子查询:<br>例如：<br>第一步：查询最低工资是多少<br>  select min(sal) from emp;<br>第二步：找出&gt;800的<br>  select ename,sal from emp where sal &gt; 800;<br>第三步：合并<br>  select ename,sal from emp where sal &gt; (select min(sal) from emp);</p>
<p><img src="/2023/07/15/record-md/image-20230713160225297.png" alt="image-20230713160225297"></p>
<p>from子句中的子查询:<br>    注意：from后面的子查询，可以将子查询的查询结果当做一张临时表。</p>
<p>select后面出现的子查询:<br>    注意：对于select后面的子查询来说，这个子查询只能一次返回1条结果</p>
<h2 id="union合并"><a href="#union合并" class="headerlink" title="union合并"></a>union合并</h2><p>案例：查询工作岗位是MANAGER和SALESMAN的员工？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27; or job = &#x27;SALESMAN&#x27;;</span><br><span class="line">select ename,job from emp where job in(&#x27;MANAGER&#x27;,&#x27;SALESMAN&#x27;);</span><br><span class="line"></span><br><span class="line">select ename,job from emp where job = &#x27;MANAGER&#x27;</span><br><span class="line">union</span><br><span class="line">select ename,job from emp where job = &#x27;SALESMAN&#x27;;</span><br></pre></td></tr></table></figure>

<p>union的效率要高一些。union可以减少匹配的次数。在减少匹配次数的情况下，还可以完成两个结果集的拼接。</p>
<p>注意：<br>union在进行结果集合并的时候，要求两个结果集的列数相同。结果集合并时列和列的数据类型也要一致。</p>
<h2 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">limit startIndex, length</span><br><span class="line">startIndex是起始下标，length是长度。</span><br><span class="line">起始下标从0开始。</span><br><span class="line"></span><br><span class="line">每页显示pageSize条记录</span><br><span class="line">第pageNo页：limit (pageNo - 1) * pageSize  , pageSize</span><br><span class="line"></span><br><span class="line">缺省用法：limit 5; 这是取前5</span><br></pre></td></tr></table></figure>



<h2 id="数据控制语言-DCL"><a href="#数据控制语言-DCL" class="headerlink" title="数据控制语言(DCL)"></a>数据控制语言(DCL)</h2><p>数据控制语言：Data Control Language。用来授权或回收访问数据库的某种特权，并控制数据库操纵事务发生的时间及效果，能够对数据库进行监视。</p>
<p>比如常见的授权、取消授权、回滚、提交等等操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#创建一个testuser用户，密码111111</span><br><span class="line">create user testuser@localhost identified by &#x27;111111&#x27;;</span><br><span class="line">#给用户授权</span><br><span class="line">#将test数据库中所有对象(表、视图、存储过程，触发器等。*表示所有对象)的create,alter,drop,insert,update,delete,select赋给testuser用户</span><br><span class="line">grant create,alter,drop,insert,update,delete,select on test.* to testuser@localhost; </span><br><span class="line">#撤销授权</span><br><span class="line">revoke create,alter,drop on test.* to testuser@localhost;</span><br><span class="line">#查看用户权限</span><br><span class="line">show grants for testuser@localhost;</span><br><span class="line">#删除用户</span><br><span class="line">drop user testuser@localhost;</span><br><span class="line">#修改用户密码</span><br><span class="line">USE mysql;</span><br><span class="line">update user set password=password(&#x27;123456&#x27;) where user=&#x27;testuser&#x27; and host=&#x27;localhost&#x27;;</span><br><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>



<h2 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h2><p>(存储引擎是一个表存储&#x2F;组织数据的方式。不同的存储引擎，表存储数据的方式不同。)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">检视：</span><br><span class="line">show create table t_student;</span><br><span class="line">ENGINE来指定存储引擎。</span><br><span class="line">CHARSET来指定这张表的字符编码方式。</span><br><span class="line">使用建立:</span><br><span class="line">在建表的时候可以在最后小括号的&quot;)&quot;的右边使用：</span><br></pre></td></tr></table></figure>

<p><img src="/2023/07/15/record-md/image-20230714153816765.png" alt="image-20230714153816765"></p>
<h3 id="MyISAM存储引擎"><a href="#MyISAM存储引擎" class="headerlink" title="MyISAM存储引擎"></a>MyISAM存储引擎</h3><p>它管理的表具有以下特征：<br>  使用三个文件表示每个表：<br>    格式文件 — 存储表结构的定义（mytable.frm）<br>    数据文件 — 存储表行的内容（mytable.MYD）<br>    索引文件 — 存储表上索引（mytable.MYI）：索引是一本书的目录，缩小扫描范围，提高查询效率的一种机制。<br>  可被转换为压缩、只读表来节省空间<br>  提示一下：<br>    对于一张表来说，只要是主键，<br>    或者加有unique约束的字段上会自动创建索引。<br>  MyISAM存储引擎特点：<br>    可被转换为压缩、只读表来节省空间<br>    这是这种存储引擎的优势<br>  MyISAM不支持事务机制，安全性低。</p>
<h3 id="InnoDB存储引擎"><a href="#InnoDB存储引擎" class="headerlink" title="InnoDB存储引擎"></a>InnoDB存储引擎</h3><p>这是mysql默认的存储引擎，同时也是一个重量级的存储引擎。<br>InnoDB支持事务，支持数据库崩溃后自动恢复机制。<br>InnoDB存储引擎最主要的特点是：非常安全。<br>它管理的表具有下列主要特征：<br>  – 每个 InnoDB 表在数据库目录中以.frm 格式文件表示<br>  – InnoDB 表空间 tablespace 被用于存储表的内容（表空间是一个逻辑名称。表空间存储数据+索引。）<br>  – 提供一组用来记录事务性活动的日志文件<br>  – 用 COMMIT(提交)、SAVEPOINT 及ROLLBACK(回滚)支持事务处理<br>  – 提供全 ACID 兼容<br>  – 在 MySQL 服务器崩溃后提供自动恢复<br>  – 多版本（MVCC）和行级锁定<br>  – 支持外键及引用的完整性，包括级联删除和更新<br>InnoDB最大的特点就是支持事务：<br>  以保证数据的安全。效率不是很高，并且也不能压缩，不能转换为只读，<br>  不能很好的节省存储空间。</p>
<h3 id="MEMORY存储引擎"><a href="#MEMORY存储引擎" class="headerlink" title="MEMORY存储引擎"></a>MEMORY存储引擎</h3><p>使用 MEMORY 存储引擎的表，其数据存储在内存中，且行的长度固定，<br>这两个特点使得 MEMORY 存储引擎非常快。<br>MEMORY 存储引擎管理的表具有下列特征：<br>  – 在数据库目录内，每个表均以.frm 格式的文件表示。<br>  – 表数据及索引被存储在内存中。（目的就是快，查询快！）<br>  – 表级锁机制。<br>  – 不能包含 TEXT 或 BLOB 字段。<br>MEMORY 存储引擎以前被称为HEAP 引擎。</p>
<h2 id="事务（限DML：insert，delete，update）"><a href="#事务（限DML：insert，delete，update）" class="headerlink" title="事务（限DML：insert，delete，update）"></a>事务（限DML：insert，delete，update）</h2><p>(一个完整的操作流程)（批量的DML语句同时成功或者失败）</p>
<p>提交事务：<br>  清空事务性活动的日志文件，将数据全部彻底持久化到数据库表中。<br>  提交事务标志着，事务的结束。并且是一种全部成功的结束。</p>
<p>回滚事务：<br>  将之前所有的DML操作全部撤销，并且清空事务性活动的日志文件<br>  回滚事务标志着，事务的结束。并且是一种全部失败的结束。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">提交事务：commit</span><br><span class="line">回滚事务：rollback</span><br><span class="line">(相当于手动存档)</span><br><span class="line"></span><br><span class="line">mysql默认情况下是支持自动提交事务的。</span><br><span class="line">即每执行一条DML语句，则提交一次.</span><br><span class="line"></span><br><span class="line">关闭自动提交：start transaction</span><br></pre></td></tr></table></figure>

<p>事务四个特性<br>A：原子性<br>  说明事务是最小的工作单元。不可再分。</p>
<p>C：一致性<br>  所有事务要求，在同一个事务当中，所有操作必须同时成功，或者同时失败，<br>  以保证数据的一致性。</p>
<p>I：隔离性<br>  A事务和B事务之间具有一定的隔离。</p>
<p>D：持久性<br>  事务最终结束的一个保障。事务提交，就相当于将没有保存到硬盘上的数据<br>  保存到硬盘上！</p>
<h3 id="事务的隔离性"><a href="#事务的隔离性" class="headerlink" title="事务的隔离性"></a>事务的隔离性</h3><p>事务和事务之间的隔离级别有4个级别。</p>
<p>MySQL8.0+：</p>
<p>1.查看当前会话隔离级别</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @@transaction_isolation;</span><br></pre></td></tr></table></figure>

<p>2.查看系统当前隔离级别</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @@global.transaction_isolation;</span><br></pre></td></tr></table></figure>

<h4 id="读未提交：read-uncommitted（最低的隔离级别）"><a href="#读未提交：read-uncommitted（最低的隔离级别）" class="headerlink" title="读未提交：read uncommitted（最低的隔离级别）"></a>读未提交：read uncommitted（最低的隔离级别）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">事务A可以读取到事务B未提交的数据。</span><br><span class="line"></span><br><span class="line">这种隔离级别存在的问题就是：</span><br><span class="line">脏读现象(Dirty Read)</span><br><span class="line">读到了脏数据。</span><br></pre></td></tr></table></figure>

<h4 id="读已提交：read-committed"><a href="#读已提交：read-committed" class="headerlink" title="读已提交：read committed"></a>读已提交：read committed</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">事务A只能读取到事务B提交之后的数据。</span><br><span class="line"></span><br><span class="line">这种隔离级别解决了什么问题？</span><br><span class="line">    解决了脏读的现象。</span><br><span class="line">这种隔离级别存在什么问题？</span><br><span class="line">    不可重复读取数据。</span><br><span class="line">什么是不可重复读取数据呢？</span><br><span class="line">在事务开启之后，第一次读到的数据是3条，当前事务还没有结束，</span><br><span class="line">可能第二次再读取的时候，读到的数据是4条，3不等于4</span><br><span class="line">称为不可重复读取。</span><br></pre></td></tr></table></figure>

<h4 id="可重复读：repeatable-read-mysql默认隔离级别"><a href="#可重复读：repeatable-read-mysql默认隔离级别" class="headerlink" title="可重复读：repeatable read(mysql默认隔离级别)"></a>可重复读：repeatable read(mysql默认隔离级别)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">什么是可重复读取？</span><br><span class="line">    事务A开启之后，不管是多久，每一次在事务A中读取到的数据</span><br><span class="line">    都是一致的。即使事务B将数据已经修改，并且提交了，事务A</span><br><span class="line">    读取到的数据还是没有发生改变，这就是可重复读。</span><br><span class="line">可重复读解决了什么问题？</span><br><span class="line">    解决了不可重复读取数据。</span><br><span class="line">可重复读存在的问题是什么？</span><br><span class="line">    可以会出现幻影读。</span><br><span class="line">    每一次读取到的数据都是幻象。不够真实</span><br></pre></td></tr></table></figure>

<h4 id="序列化-x2F-串行化：serializable（最高的隔离级别）"><a href="#序列化-x2F-串行化：serializable（最高的隔离级别）" class="headerlink" title="序列化&#x2F;串行化：serializable（最高的隔离级别）"></a>序列化&#x2F;串行化：serializable（最高的隔离级别）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这是最高隔离级别，效率最低。解决了所有的问题。</span><br><span class="line">这种隔离级别表示事务排队，不能并发</span><br><span class="line">synchronized，线程同步（事务同步）</span><br><span class="line">每一次读取到的数据都是最真实的，并且效率是最低的。</span><br></pre></td></tr></table></figure>



<h2 id="索引（index）"><a href="#索引（index）" class="headerlink" title="索引（index）"></a>索引（index）</h2><p>（索引是在数据库表的字段上添加的，是为了提高查询效率存在的一种机制。一张表的一个字段可以添加一个索引，当然，多个字段联合起来也可以添加索引。索引相当于一本书的目录，是为了缩小扫描范围而存在的一种机制。）</p>
<p>MySQL在查询方面主要就是两种方式：</p>
<ul>
<li>第一种方式：全表扫描</li>
<li>第二种方式：根据索引检索。</li>
</ul>
<ol>
<li>在任何数据库当中主键上都会自动添加索引对象。另外在mysql当中，一个字段上如果有unique约束的话，也会自动创建索引对象。</li>
<li>在任何数据库当中，任何一张表的任何一条记录在硬盘存储上都有一个硬盘的物理存储编号。</li>
<li>在mysql当中，索引是一个单独的对象，不同的存储引擎以不同的形式存在，不管索引存储在哪里，索引在mysql当中都是一个树的形式存在。</li>
</ol>
<p>添加索引的条件<br>条件1：数据量庞大（到底有多么庞大算庞大，这个需要测试，因为每一个硬件环境不同）<br>条件2：该字段经常出现在where的后面，以条件的形式存在，也就是说这个字段总是被扫描。<br>条件3：该字段很少的DML(insert delete update)操作。（因为DML之后，索引需要重新排序。）</p>
<h3 id="索引的创建和删除"><a href="#索引的创建和删除" class="headerlink" title="索引的创建和删除"></a>索引的创建和删除</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">查看一个SQL语句是否使用了索引:</span><br><span class="line">mysql&gt; explain select * from emp where ename = &#x27;KING&#x27;;</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------------+</span><br><span class="line">| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra       |</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------------+</span><br><span class="line">|  1 | SIMPLE      | emp   | ALL  | NULL          | NULL | NULL    | NULL |   14 | Using where |</span><br><span class="line">+----+-------------+-------+------+---------------+------+---------+------+------+-------------+</span><br><span class="line">type=ALL,则未使用；type=ref,则使用。</span><br><span class="line"></span><br><span class="line">创建索引：</span><br><span class="line">  mysql&gt; create index emp_ename_index on emp(ename);</span><br><span class="line">  给emp表的ename字段添加索引，起名：emp_ename_index</span><br><span class="line"></span><br><span class="line">删除索引：</span><br><span class="line">  mysql&gt; drop index emp_ename_index on emp;</span><br><span class="line">  将emp表上的emp_ename_index索引对象删除。</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h3 id="索引失效的情况"><a href="#索引失效的情况" class="headerlink" title="索引失效的情况"></a>索引失效的情况</h3><ol>
<li><p>模糊匹配当中以’%’开头。</p>
</li>
<li><p>使用or的时候会失效，如果使用or那么要求or两边的条件字段都要有索引，才会走索引，如果其中一边有一个字段没有索引，那么另一个字段上的索引也会失效。</p>
</li>
<li><p>使用复合索引的时候，没有使用左侧的列查找，索引失效。(两个字段，或者更多的字段联合起来添加一个索引)</p>
</li>
<li><p>在where当中索引列参加了运算，索引失效。</p>
</li>
<li><p>在where当中索引列使用了函数。</p>
</li>
</ol>
<h2 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h2><p>（站在不同的角度去看待同一份数据。）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">创建视图对象：</span><br><span class="line">  create view dept2_view as select * from dept2;</span><br><span class="line">注意：只有DQL语句才能以view的形式创建。</span><br><span class="line">  create view view_name as （这里的语句必须是DQL语句）;</span><br><span class="line"></span><br><span class="line">删除视图对象：</span><br><span class="line">  drop view dept2_view;</span><br></pre></td></tr></table></figure>

<p>可以面向视图对象进行增删改查，对视图对象的增删改查，会导致原表被操作（视图的特点：通过对视图的操作，会影响到原表数据。）</p>
<h2 id="DBA常用命令"><a href="#DBA常用命令" class="headerlink" title="DBA常用命令"></a>DBA常用命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">数据导出</span><br><span class="line">  注意：在windows的dos命令窗口中：</span><br><span class="line">    mysqldump bjpowernode&gt;D:\bjpowernode.sql -uroot -p123456</span><br><span class="line"></span><br><span class="line">  可以导出指定的表</span><br><span class="line">    mysqldump bjpowernode emp&gt;D:\bjpowernode.sql -uroot -p123456</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">数据导入：</span><br><span class="line">  注意：需要先登录到mysql数据库服务器上。</span><br><span class="line">  然后创建数据库：create database bjpowernode;</span><br><span class="line">  使用数据库：use bjpowernode</span><br><span class="line">  然后初始化数据库：source D:\bjpowernode.sql</span><br></pre></td></tr></table></figure>

<h2 id="数据库设计三范式"><a href="#数据库设计三范式" class="headerlink" title="数据库设计三范式"></a>数据库设计三范式</h2><p>第一范式：要求任何一张表必须有主键，每一个字段原子性不可再分。<br>第二范式：建立在第一范式的基础之上，要求所有非主键字段完全依赖主键，不要产生部分依赖。<br>（多对多怎么设计？多对多，三张表，关系表两个外键）<br>第三范式：建立在第二范式的基础之上，要求所有非主键字段直接依赖主键，不要产生传递依赖。<br>（一对多，两张表，多的表加外键）</p>
<h1 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h1><h2 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p密码</span><br></pre></td></tr></table></figure>

<h2 id="如何通过Navicat来破解本地数据库的密码"><a href="#如何通过Navicat来破解本地数据库的密码" class="headerlink" title="如何通过Navicat来破解本地数据库的密码"></a>如何通过Navicat来破解本地数据库的密码</h2><p>首先在navicat中导出连接(记得要勾选导出密码)</p>
<p>然后将密码复制到下面的PHP脚本中进行破解</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"> </span><br><span class="line">namespace FatSmallTools;</span><br><span class="line"> </span><br><span class="line">class NavicatPassword</span><br><span class="line">&#123;</span><br><span class="line">    protected $version = 0;</span><br><span class="line">    protected $aesKey = &#x27;libcckeylibcckey&#x27;;</span><br><span class="line">    protected $aesIv = &#x27;libcciv libcciv &#x27;;</span><br><span class="line">    protected $blowString = &#x27;3DC5CA39&#x27;;</span><br><span class="line">    protected $blowKey = null;</span><br><span class="line">    protected $blowIv = null;</span><br><span class="line">    </span><br><span class="line">    public function __construct($version = 12)</span><br><span class="line">    &#123;</span><br><span class="line">        $this-&gt;version = $version;</span><br><span class="line">        $this-&gt;blowKey = sha1(&#x27;3DC5CA39&#x27;, true);</span><br><span class="line">        $this-&gt;blowIv = hex2bin(&#x27;d9c7c3c8870d64bd&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public function encrypt($string)</span><br><span class="line">    &#123;</span><br><span class="line">        $result = FALSE;</span><br><span class="line">        switch ($this-&gt;version) &#123;</span><br><span class="line">            case 11:</span><br><span class="line">                $result = $this-&gt;encryptEleven($string);</span><br><span class="line">                break;</span><br><span class="line">            case 12:</span><br><span class="line">                $result = $this-&gt;encryptTwelve($string);</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return $result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function encryptEleven($string)</span><br><span class="line">    &#123;</span><br><span class="line">        $round = intval(floor(strlen($string) / 8));</span><br><span class="line">        $leftLength = strlen($string) % 8;</span><br><span class="line">        $result = &#x27;&#x27;;</span><br><span class="line">        $currentVector = $this-&gt;blowIv;</span><br><span class="line">        </span><br><span class="line">        for ($i = 0; $i &lt; $round; $i++) &#123;</span><br><span class="line">            $temp = $this-&gt;encryptBlock($this-&gt;xorBytes(substr($string, 8 * $i, 8), $currentVector));</span><br><span class="line">            $currentVector = $this-&gt;xorBytes($currentVector, $temp);</span><br><span class="line">            $result .= $temp;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if ($leftLength) &#123;</span><br><span class="line">            $currentVector = $this-&gt;encryptBlock($currentVector);</span><br><span class="line">            $result .= $this-&gt;xorBytes(substr($string, 8 * $i, $leftLength), $currentVector);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return strtoupper(bin2hex($result));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function encryptBlock($block)</span><br><span class="line">    &#123;</span><br><span class="line">        return openssl_encrypt($block, &#x27;BF-ECB&#x27;, $this-&gt;blowKey, OPENSSL_RAW_DATA|OPENSSL_NO_PADDING); </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function decryptBlock($block)</span><br><span class="line">    &#123;</span><br><span class="line">        return openssl_decrypt($block, &#x27;BF-ECB&#x27;, $this-&gt;blowKey, OPENSSL_RAW_DATA|OPENSSL_NO_PADDING); </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function xorBytes($str1, $str2)</span><br><span class="line">    &#123;</span><br><span class="line">        $result = &#x27;&#x27;;</span><br><span class="line">        for ($i = 0; $i &lt; strlen($str1); $i++) &#123;</span><br><span class="line">            $result .= chr(ord($str1[$i]) ^ ord($str2[$i]));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return $result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function encryptTwelve($string)</span><br><span class="line">    &#123;</span><br><span class="line">        $result = openssl_encrypt($string, &#x27;AES-128-CBC&#x27;, $this-&gt;aesKey, OPENSSL_RAW_DATA, $this-&gt;aesIv);</span><br><span class="line">        return strtoupper(bin2hex($result));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public function decrypt($string)</span><br><span class="line">    &#123;</span><br><span class="line">        $result = FALSE;</span><br><span class="line">        switch ($this-&gt;version) &#123;</span><br><span class="line">            case 11:</span><br><span class="line">                $result = $this-&gt;decryptEleven($string);</span><br><span class="line">                break;</span><br><span class="line">            case 12:</span><br><span class="line">                $result = $this-&gt;decryptTwelve($string);</span><br><span class="line">                break;</span><br><span class="line">            default:</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return $result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function decryptEleven($upperString)</span><br><span class="line">    &#123;</span><br><span class="line">        $string = hex2bin(strtolower($upperString));</span><br><span class="line">        </span><br><span class="line">        $round = intval(floor(strlen($string) / 8));</span><br><span class="line">        $leftLength = strlen($string) % 8;</span><br><span class="line">        $result = &#x27;&#x27;;</span><br><span class="line">        $currentVector = $this-&gt;blowIv;</span><br><span class="line">        </span><br><span class="line">        for ($i = 0; $i &lt; $round; $i++) &#123;</span><br><span class="line">            $encryptedBlock = substr($string, 8 * $i, 8);</span><br><span class="line">            $temp = $this-&gt;xorBytes($this-&gt;decryptBlock($encryptedBlock), $currentVector);</span><br><span class="line">            $currentVector = $this-&gt;xorBytes($currentVector, $encryptedBlock);</span><br><span class="line">            $result .= $temp;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if ($leftLength) &#123;</span><br><span class="line">            $currentVector = $this-&gt;encryptBlock($currentVector);</span><br><span class="line">            $result .= $this-&gt;xorBytes(substr($string, 8 * $i, $leftLength), $currentVector);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        return $result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    protected function decryptTwelve($upperString)</span><br><span class="line">    &#123;</span><br><span class="line">        $string = hex2bin(strtolower($upperString));</span><br><span class="line">        return openssl_decrypt($string, &#x27;AES-128-CBC&#x27;, $this-&gt;aesKey, OPENSSL_RAW_DATA, $this-&gt;aesIv);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">use FatSmallTools\NavicatPassword;</span><br><span class="line"> </span><br><span class="line">//需要指定版本，11或12</span><br><span class="line">$navicatPassword = new NavicatPassword(12);</span><br><span class="line">//$navicatPassword = new NavicatPassword(11);</span><br><span class="line"> </span><br><span class="line">//解密</span><br><span class="line">//$decode = $navicatPassword-&gt;decrypt(&#x27;15057D7BA390&#x27;);</span><br><span class="line">$decode = $navicatPassword-&gt;decrypt(&#x27;503AA930968F877F04770B47DD731DC0&#x27;);</span><br><span class="line">echo $decode.&quot;\n&quot;;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">yueyusheng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/07/15/record-md/">http://example.com/2023/07/15/record-md/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">yueyusheng's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/15/list/" title="skip list"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">skip list</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/15/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="算法与数据结构"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">算法与数据结构</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2023/04/16/qsStpudZ61XJR2e.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">yueyusheng</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yueyusheng"><i class="fab fa-github"></i><span>come to here</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">yueyusheng's Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mysql-learning-record"><span class="toc-number">1.</span> <span class="toc-text">Mysql learning record</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text">SQL基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80-DDL"><span class="toc-number">2.1.</span> <span class="toc-text">数据定义语言(DDL)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-number">2.2.</span> <span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F%EF%BC%9Anot-null"><span class="toc-number">2.2.1.</span> <span class="toc-text">非空约束：not null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F-unique"><span class="toc-number">2.2.2.</span> <span class="toc-text">唯一性约束: unique</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F-primary-key"><span class="toc-number">2.2.3.</span> <span class="toc-text">主键约束: primary key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%EF%BC%9Aforeign-key"><span class="toc-number">2.2.4.</span> <span class="toc-text">外键约束：foreign key</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E7%BA%B5%E8%AF%AD%E8%A8%80-DML"><span class="toc-number">2.3.</span> <span class="toc-text">数据操纵语言(DML)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80-DQL"><span class="toc-number">2.4.</span> <span class="toc-text">数据查询语言(DQL)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">2.5.</span> <span class="toc-text">分组查询：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">数据处理函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0"><span class="toc-number">3.0.1.</span> <span class="toc-text">单行处理函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0%EF%BC%88%E5%A4%9A%E8%A1%8C%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0%EF%BC%89"><span class="toc-number">3.0.2.</span> <span class="toc-text">分组函数（多行处理函数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#distinct"><span class="toc-number">3.0.3.</span> <span class="toc-text">distinct</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.</span> <span class="toc-text">连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.1.</span> <span class="toc-text">子查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union%E5%90%88%E5%B9%B6"><span class="toc-number">4.2.</span> <span class="toc-text">union合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#limit"><span class="toc-number">4.3.</span> <span class="toc-text">limit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E8%AF%AD%E8%A8%80-DCL"><span class="toc-number">4.4.</span> <span class="toc-text">数据控制语言(DCL)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">4.5.</span> <span class="toc-text">存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MyISAM%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">4.5.1.</span> <span class="toc-text">MyISAM存储引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">4.5.2.</span> <span class="toc-text">InnoDB存储引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MEMORY%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-number">4.5.3.</span> <span class="toc-text">MEMORY存储引擎</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%EF%BC%88%E9%99%90DML%EF%BC%9Ainsert%EF%BC%8Cdelete%EF%BC%8Cupdate%EF%BC%89"><span class="toc-number">4.6.</span> <span class="toc-text">事务（限DML：insert，delete，update）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E6%80%A7"><span class="toc-number">4.6.1.</span> <span class="toc-text">事务的隔离性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E6%9C%AA%E6%8F%90%E4%BA%A4%EF%BC%9Aread-uncommitted%EF%BC%88%E6%9C%80%E4%BD%8E%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%89"><span class="toc-number">4.6.1.1.</span> <span class="toc-text">读未提交：read uncommitted（最低的隔离级别）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%B7%B2%E6%8F%90%E4%BA%A4%EF%BC%9Aread-committed"><span class="toc-number">4.6.1.2.</span> <span class="toc-text">读已提交：read committed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%EF%BC%9Arepeatable-read-mysql%E9%BB%98%E8%AE%A4%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">4.6.1.3.</span> <span class="toc-text">可重复读：repeatable read(mysql默认隔离级别)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96-x2F-%E4%B8%B2%E8%A1%8C%E5%8C%96%EF%BC%9Aserializable%EF%BC%88%E6%9C%80%E9%AB%98%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%EF%BC%89"><span class="toc-number">4.6.1.4.</span> <span class="toc-text">序列化&#x2F;串行化：serializable（最高的隔离级别）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%EF%BC%88index%EF%BC%89"><span class="toc-number">4.7.</span> <span class="toc-text">索引（index）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">4.7.1.</span> <span class="toc-text">索引的创建和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">4.7.2.</span> <span class="toc-text">索引失效的情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE"><span class="toc-number">4.8.</span> <span class="toc-text">视图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DBA%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.9.</span> <span class="toc-text">DBA常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1%E4%B8%89%E8%8C%83%E5%BC%8F"><span class="toc-number">4.10.</span> <span class="toc-text">数据库设计三范式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Mysql"><span class="toc-number">5.</span> <span class="toc-text">Mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.1.</span> <span class="toc-text">连接数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87Navicat%E6%9D%A5%E7%A0%B4%E8%A7%A3%E6%9C%AC%E5%9C%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%86%E7%A0%81"><span class="toc-number">5.2.</span> <span class="toc-text">如何通过Navicat来破解本地数据库的密码</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/19/sqli-labs/" title="sqli-labs"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="sqli-labs"/></a><div class="content"><a class="title" href="/2023/07/19/sqli-labs/" title="sqli-labs">sqli-labs</a><time datetime="2023-07-19T08:06:09.000Z" title="发表于 2023-07-19 16:06:09">2023-07-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/15/list/" title="skip list"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="skip list"/></a><div class="content"><a class="title" href="/2023/07/15/list/" title="skip list">skip list</a><time datetime="2023-07-15T10:30:35.000Z" title="发表于 2023-07-15 18:30:35">2023-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/15/record-md/" title="Mysql learning record"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysql learning record"/></a><div class="content"><a class="title" href="/2023/07/15/record-md/" title="Mysql learning record">Mysql learning record</a><time datetime="2023-07-15T10:19:38.000Z" title="发表于 2023-07-15 18:19:38">2023-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/15/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="算法与数据结构"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法与数据结构"/></a><div class="content"><a class="title" href="/2023/07/15/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="算法与数据结构">算法与数据结构</a><time datetime="2023-07-15T09:29:34.000Z" title="发表于 2023-07-15 17:29:34">2023-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/04/14/hello-world/" title="Hello World"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2023/04/14/hello-world/" title="Hello World">Hello World</a><time datetime="2023-04-13T16:26:03.833Z" title="发表于 2023-04-14 00:26:03">2023-04-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By yueyusheng</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>